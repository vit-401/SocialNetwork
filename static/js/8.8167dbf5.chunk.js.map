{"version":3,"sources":["components/Button/Button.tsx","components/Button/Button.module.scss","components/FormControl/FormControl.tsx","components/FormControl/FormControl.module.scss","utils/validator.tsx","pages/Login/LoginPage.module.scss","pages/Login/LoginPage.tsx"],"names":["Button","className","children","onClick","white","restProps","classNames","s","button","module","exports","FormControl","meta","touched","error","hasError","styles","formControl","childrenWrapperStyle","fieldErrorWrapper","Textarea","props","input","Input","createField","placeholder","name","component","validators","text","validate","required","value","maxLengthCreator","maxLength","length","LoginForm","handleSubmit","captchaUrl","onSubmit","form","testData","inputWrapper","type","checkboxWrapper","src","alt","loginBtn","formSummaryError","LoginReduxForm","reduxForm","LoginPage","useSelector","state","authState","isAuth","dispatch","useDispatch","to","path","PROFILE","login","singIn","pageName","formData","email","password","rememberMe","captcha"],"mappings":"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","file":"static/js/8.8167dbf5.chunk.js","sourcesContent":["import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classNames from 'classnames'\r\nimport s from './Button.module.scss'\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\r\n\r\ntype ButtonPropsType = DefaultButtonPropsType & {\r\n   white?: boolean\r\n}\r\n\r\nexport const Button: React.FC<ButtonPropsType> = ({className, children, onClick, white, ...restProps}) => {\r\n\r\n   return (\r\n       <button {...restProps}\r\n               className={classNames(s.button, className, {\r\n                  [s.white]: white,\r\n               })}\r\n               onClick={onClick}>{children}\r\n       </button>\r\n   )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2EByc\"};","import React from 'react'\r\nimport s from './FormControl.module.scss'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form'\r\nimport {FieldValidatorType} from '../../utils/validator'\r\n\r\ntype FormControlPropsType = {\r\n   meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n\r\n   const hasError = touched && error\r\n\r\n   const styles = `${s.formControl}  ${hasError ? s.error : ''}`\r\n\r\n   return (\r\n       <div className={styles}>\r\n          <div className={s.childrenWrapperStyle}>\r\n             {children}\r\n          </div>\r\n          <div className={s.fieldErrorWrapper}>\r\n             {\r\n                hasError && <span>{error}</span>\r\n             }\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}><textarea {...input}{...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}>\r\n      <input {...input}{...restProps}/>\r\n   </FormControl>\r\n}\r\n\r\nexport const Checkbox: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}>\r\n      <input {...input}{...restProps}/>\r\n   </FormControl>\r\n}\r\n\r\n//create wrapper\r\nexport const createField = <FormKeysType extends string>(placeholder: string | null,\r\n                                                         name: FormKeysType,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         props = {},\r\n                                                         text = '') => (\r\n    <div>\r\n       <Field placeholder={placeholder}\r\n              name={name}\r\n              component={component}\r\n              validate={validators}\r\n\r\n              {...props}/>\r\n       {text}\r\n    </div>\r\n)\r\n\r\n//get all props keys for form without mistakes\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__3xCiL\",\"childrenWrapperStyle\":\"FormControl_childrenWrapperStyle__1vLf_\",\"error\":\"FormControl_error__3VRsB\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field id required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength: number): FieldValidatorType => (value) => {\r\n    if (value && value.length <= minLength) return `Min length is ${minLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginPage_login__10fJV\",\"singIn\":\"LoginPage_singIn__1ajhQ\",\"pageName\":\"LoginPage_pageName__1z2yy\",\"form\":\"LoginPage_form__1f0N-\",\"testData\":\"LoginPage_testData__2k6La\",\"inputWrapper\":\"LoginPage_inputWrapper__2K-JB\",\"checkboxWrapper\":\"LoginPage_checkboxWrapper__ZBncb\",\"loginBtn\":\"LoginPage_loginBtn__3WAmm\"};","import React from 'react'\r\nimport {createField, Input} from '../../components/FormControl/FormControl'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {required} from '../../utils/validator'\r\nimport {login} from '../../redux/auth-reducer'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {InjectedFormProps, reduxForm} from 'redux-form'\r\nimport s from './LoginPage.module.scss'\r\nimport {path} from '../../app/App';\r\nimport { Button } from '../../components/Button/Button'\r\nimport {AppStateType} from '../../app/store';\r\n\r\ntype LoginFormOwnProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\nexport const LoginForm: React.FC<InjectedFormProps<LoginFormValuesType,\r\n    LoginFormOwnProps> & LoginFormOwnProps>\r\n    = ({\r\n           handleSubmit,\r\n           error,\r\n           captchaUrl\r\n       }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.form}>\r\n            <div className={s.testData}>\r\n                <p>Use test data</p>\r\n                <p>Email: abmtest0@gmail.com</p>\r\n                <p>Password: qwerty123</p>\r\n            </div>\r\n\r\n            <div className={s.inputWrapper}>\r\n                {createField('Email', 'email', Input, [required])}\r\n            </div>\r\n            <div className={s.inputWrapper}>\r\n                {createField('Password', 'password', Input, [required], {type: 'password'})}\r\n            </div>\r\n            <div className={s.checkboxWrapper}>\r\n                {createField(null, 'rememberMe', Input, [], {type: 'checkbox'}, '')}\r\n                <span>Remember me</span>\r\n            </div>\r\n            <div>\r\n                {/*captchaUrl without '&&' check don't work! Because null*/}\r\n                {captchaUrl && <img src={captchaUrl && captchaUrl} alt=\"captcha\"/>}\r\n            </div>\r\n            <div>\r\n                {captchaUrl && createField('Symbol of captcha', 'captcha', Input, [required], {})}\r\n            </div>\r\n            <div>\r\n                <Button className={s.loginBtn}>Login</Button>\r\n            </div>\r\n            {error && <div className={s.formSummaryError}>{error}</div>}\r\n            <div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({form: 'login'})(LoginForm)\r\n\r\ntype LoginFormValuesType = {\r\n    captcha: string | null //this type name have to match with field name 'captcha'\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginPage: React.FC = () => {\r\n\r\n    const captchaUrl = useSelector((state: AppStateType) => state.authState.captchaUrl)\r\n    const isAuth = useSelector((state: AppStateType) => state.authState.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onSubmit = (formData: LoginFormValuesType) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={path.PROFILE}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.login}>\r\n            <div className={s.singIn}>\r\n                <h1 className={s.pageName}>Login</h1>\r\n                <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n"],"sourceRoot":""}